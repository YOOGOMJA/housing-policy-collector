# 커밋 스코프 운영 가이드

이 문서는 커밋 스코프를 일관되게 사용하기 위한 기준을 정의합니다.

## 1) 목적
- 커밋 로그만 봐도 작업 성격(이슈 작업/일반 작업)을 구분한다.
- 스코프 남용(임의 문자열, 중복 표현)을 줄인다.
- PR/릴리즈 히스토리 추적성을 높인다.

## 2) 기본 원칙
- 커밋 스코프는 항상 작성한다.
- 이슈를 생성한 작업은 스코프를 `#이슈번호`로 작성한다.
- 이슈 없이 진행하는 작업은 사전 합의된 도메인 스코프를 사용한다.
- 하나의 커밋에는 하나의 대표 스코프만 사용한다.
- PR 제목 검증(`npm run commitlint:pr-title`)도 동일한 스코프 규칙을 사용한다.

## 3) 이슈 생성 기준
아래 중 하나라도 해당하면 이슈를 생성하고 `#이슈번호` 스코프를 사용합니다.

- 정책/요구사항/운영 기준 변경
- 사용자 영향이 있는 기능 추가/변경/제거
- 장애 대응, 데이터 정합성, 보안 관련 수정
- 리뷰 포인트가 2개 이상인 중간 이상 규모 작업

다음은 이슈 없이 도메인 스코프를 사용할 수 있습니다.

- 오탈자 수정/문장 정리/링크 수정
- 테스트 데이터, 예시 문구, 주석의 비기능성 보정
- 동작 변경이 없는 경미한 정리 작업

## 4) 도메인 스코프 목록
이슈 없이 작업할 때는 아래 스코프만 사용합니다.

- `docs`: 문서 구조/내용 정리
- `workflow`: 협업 프로세스/템플릿/체크리스트
- `policy`: 정책 문서 규칙 정비
- `ops`: 운영 Runbook, 대응 절차
- `parser`: 파싱 규격/파서 관련 코드
- `collector`: 수집기 관련 코드
- `notifier`: 알림 관련 코드
- `storage`: 저장소/DB 관련 코드
- `ci`: CI/CD 및 자동화 스크립트
- `deps`: 의존성/빌드 설정

목록에 없는 스코프가 필요하면, 먼저 이 문서와 `docs/workflow.md`를 함께 갱신합니다.

## 5) 커밋 메시지 예시

이슈 작업:

```bash
fix(#245): 알림 중복 발송 조건 보정

- 중복 키 생성 규칙을 공고 ID + 회차 기준으로 통일
- 회귀 확인을 위한 테스트 케이스 추가
```

비이슈 작업:

```bash
docs(workflow): 커밋 스코프 기준 정리

- 이슈 생성 기준 섹션 추가
- 도메인 스코프 목록과 사용 원칙 문서화
```

## 6) 변경 관리 규칙
- 스코프 규칙 변경 시 다음 문서를 같은 PR에서 동기화합니다.
  - `commitlint.config.cjs`
  - `docs/workflow.md`
  - `.github/pull_request_template.md`
  - `docs/README.md` (인덱스)
- 변경 후 PR 체크리스트에 따라 lint/commit 규칙 검증을 수행합니다.
